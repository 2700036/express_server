{"version":3,"sources":["images/logo.svg","components/Header/Header.js","components/PopupWithForm/PopupWithForm.js","components/ImagePopup/ImagePopup.js","utils/utils.js","utils/api.js","components/Card/Card.js","components/EditForm/EditForm.js","components/PlaceForm/PlaceForm.js","components/Main/Main.js","components/Footer/Footer.js","components/App/App.js","index.js"],"names":["module","exports","Header","props","className","src","logo","alt","PopupWithForm","title","name","onClose","children","popup","useRef","smoothClose","useCallback","current","classList","remove","addEventListener","useEffect","escFunction","keyCode","hadleOverlayClick","target","contains","add","document","removeEventListener","ref","type","onClick","ImagePopup","this","card","link","Component","renderLoading","isLoading","currentActiveButton","querySelector","textContent","api","address","token","groupId","_token","_groupId","_address","Promise","all","getCardList","getUserInfo","fetch","headers","authorization","then","res","ok","json","reject","status","catch","err","console","log","method","body","JSON","stringify","cardID","about","avatar","like","Card","cardInfo","likes","_id","onBasketClick","onCardClick","isUsersCard","isInitialLiked","React","useState","isLiked","setIsLiked","length","likesLength","setLikesLength","to","style","backgroundImage","e","cardId","stopPropagation","changeLikeCardStatus","EditForm","initialUserInfo","userName","userDescription","inputs","setInputs","handleInput","value","noValidate","id","placeholder","required","minLength","maxLength","pattern","onChange","PlaceForm","onAddCardSubmit","preventDefault","Main","onEditProfile","onAddPlace","onEditAvatar","openedPopup","selectedCard","handleBasketIconClick","userAvatar","userId","userInfo","setUserInfo","cards","setCards","cardsData","onLikeButton","isliked","cardsElems","map","some","key","owner","isEditProfilePopupOpen","isAddPlacePopupOpen","addCard","isDeleteCardPopupOpened","removeCard","ind","findIndex","el","slice","isEditAvatarPopupOpen","path","render","match","history","params","currentCard","find","goBack","Footer","App","setOpenedPopup","setSelectedCard","ReactDOM"],"mappings":"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","file":"static/js/main.a6af33c5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.d198f32f.svg\";","import React from 'react';\r\nimport logo from '../../images/logo.svg';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className=\"header page__section\">\r\n    <img src={logo} alt=\"Логотип проекта масто\" className=\"logo header__logo\"/>\r\n  </header>\r\n  )\r\n};\r\n\r\nexport default Header;\r\n\r\n","import React, { useCallback, useEffect, useRef } from 'react';\r\n\r\nconst PopupWithForm = ({ title, name, onClose, children }) => {\r\n  const popup = useRef();\r\n  const smoothClose = useCallback(() => {\r\n    popup.current.classList.remove('popup_is-opened');\r\n    popup.current.addEventListener('transitionend', onClose, true)\r\n  }, [onClose])\r\n  \r\n  useEffect(() => {\r\n    const escFunction = ({keyCode}) => {\r\n      if(keyCode === 27) {\r\n        smoothClose();\r\n      }\r\n    }\r\n    const hadleOverlayClick = ({target})=>{\r\n      if(target.classList.contains('popup')){\r\n        smoothClose();\r\n      }\r\n    }\r\n    popup.current.classList.add('popup_is-opened')\r\n    document.addEventListener(\"keydown\", escFunction);\r\n    document.addEventListener(\"click\", hadleOverlayClick);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", escFunction);\r\n      document.removeEventListener(\"click\", hadleOverlayClick);\r\n      \r\n    };\r\n  }, [smoothClose]);\r\n\r\n  return (\r\n    <>\r\n    <div ref={popup} className={`popup popup_type_${name} `}>\r\n      <div className='popup__content' >\r\n        <button \r\n        type='button' \r\n        className='popup__close'\r\n        onClick={smoothClose}\r\n        ></button>\r\n        <h3 className='popup__title'>{title}</h3>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  </>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { Component } from 'react';\r\n\r\nclass ImagePopup extends Component {\r\n  render() {\r\n    const {card, onClose} = this.props;\r\n   \r\n    \r\n    return (\r\n      <>\r\n        <div className='popup popup_type_image popup_is-opened'>\r\n          <div className='popup__content popup__content_content_image'>\r\n            <button \r\n            type='button' \r\n            className='popup__close'\r\n            onClick={onClose}\r\n            ></button>\r\n            <img alt={`Фото места ${card.name}`} src={card.link} className='popup__image' />\r\n    <p className='popup__caption'>{card.name}</p>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImagePopup;\r\n","export const renderLoading = (isLoading = false) => {\n  const currentActiveButton = document.querySelector('.popup_is-opened .popup__button');\n  if (isLoading) {\n    currentActiveButton.textContent = 'Загрузка...';\n    return;\n  }\n\n  currentActiveButton.textContent = 'Сохранить';\n};\n","import { renderLoading } from \"./utils.js\";\r\n\r\nclass Api {\r\n  constructor({ address, token, groupId }) {\r\n    // стандартная реализация -- объект options\r\n    this._token = token;\r\n    this._groupId = groupId;\r\n    this._address = address;\r\n\r\n    // Запросы в примере работы выполняются к старому Api, в новом URL изменены.\r\n  }\r\n\r\n  getAppInfo() {\r\n    return Promise.all([this.getCardList(), this.getUserInfo()]);\r\n  }\r\n\r\n  getCardList() {\r\n    return fetch(`${this._address}/${this._groupId}/cards`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n      .catch(err => console.log(`Загрузка карточек: ${err}`))\r\n  }\r\n\r\n  addCard({ name, link }) {\r\n    // renderLoading(true);\r\n\r\n    return fetch(`${this._address}/${this._groupId}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n      })\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))      \r\n      .catch(err => console.log(`Добавление карточки: ${err}`));\r\n  }\r\n\r\n  removeCard(cardID) {\r\n    return fetch(`${this._address}/${this._groupId}/cards/${cardID}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n      .catch(err => console.log(`При удалении карточки: ${err}`));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n      .catch(err => console.log(`Загрузка информации о пользователе: ${err}`))\r\n  }\r\n\r\n  setUserInfo({ name, about }) {\r\n    renderLoading(true);\r\n\r\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n      })\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n      .catch(err => console.log(`При обновлении информации о пользователе: ${err}`));\r\n  }\r\n\r\n  setUserAvatar({ avatar }) {\r\n    renderLoading(true);\r\n\r\n    return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar\r\n      })\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n      .catch(err => console.log(`При изменении аватара пользователя: ${err}`));\r\n  }\r\n\r\n  changeLikeCardStatus(cardID, like) {\r\n    \r\n    // Обычная реализация: 2 разных метода для удаления и постановки лайка.\r\n    return fetch(`${this._address}/${this._groupId}/cards/like/${cardID}`, {\r\n      method: like ? 'PUT' : 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n      .catch(err => console.log(`Изменения статуса лайка: ${err}`));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  address: 'https://nomoreparties.co',\r\n  groupId: `cohort0`,\r\n  token: `80a75492-21c5-4330-a02f-308029e94b63`,\r\n})\r\n\r\nexport default api;\r\n\r\n\r\n// address: 'https://praktikum.tk',\r\n//   groupId: `cohort0`,\r\n//   token: `80a75492-21c5-4330-a02f-308029e94b63`,","import React from 'react';\r\nimport api from '../../utils/api';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst Card = ({cardInfo: {name, link, likes, _id}, onCardClick, onBasketClick, isUsersCard, isInitialLiked}) => {\r\n  const [isLiked, setIsLiked] = React.useState(isInitialLiked)\r\n  const [likesLength, setLikesLength] = React.useState(likes.length)  \r\n\r\n  const handleLike = (cardId, like) => {\r\n    api.changeLikeCardStatus(cardId, like)\r\n    .then(res=>{      \r\n      setLikesLength(res.likes.length);\r\n      setIsLiked(!isLiked);      \r\n    })    \r\n    }  \r\n  \r\n \r\n  return (\r\n  <li className=\"places__item card\">\r\n    <Link to={`/places/${_id}`}>\r\n    <div className=\"card__image\" style={{backgroundImage: `url(${link})`}}>\r\n    </div>\r\n    </Link>\r\n    {isUsersCard && <button type=\"button\" className=\"card__delete-button\"\r\n    onClick={onBasketClick}\r\n  ></button>}    \r\n    <div className=\"card__description\">\r\n      <h2 className=\"card__title\">\r\n        {name}\r\n      </h2>\r\n      <div className=\"card__likes\">\r\n        <button type=\"button\" \r\n        className={`card__like-button ${isLiked ? 'card__like-button_is-active ' : ''}`}\r\n        onClick={(e)=>{\r\n          e.stopPropagation();\r\n          handleLike(_id, !isLiked)}}\r\n        ></button>\r\n  <p className=\"card__like-count\">{likesLength || 0}</p>\r\n      </div>\r\n    </div>\r\n  </li>\r\n  )\r\n};\r\n\r\n\r\n\r\nexport default Card;\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\n\r\nconst EditForm = ({initialUserInfo}) => {\r\n  const [inputs, setInputs] = React.useState({\r\n    userName: '',\r\n    userDescription: ''\r\n  })  \r\n  \r\n  React.useEffect(()=>{    \r\n    setInputs({\r\n      userName: initialUserInfo.userName,\r\n      userDescription: initialUserInfo.userDescription\r\n    })\r\n  }, [initialUserInfo.userName, initialUserInfo.userDescription])\r\n  \r\n  const handleInput = ({target:{value, name}}) => {\r\n    inputs[name] = value;    \r\n    setInputs({...inputs});           \r\n  }  \r\n  const {userName, userDescription} = inputs;\r\n   \r\n  return ( \r\n                <form className=\"popup__form\" name=\"edit\" noValidate>\r\n      <label className=\"popup__label\">\r\n        <input type=\"text\" name=\"userName\" id=\"owner-name\"\r\n               className=\"popup__input popup__input_type_name\" placeholder=\"Имя\"\r\n               required minLength=\"2\" maxLength=\"40\" pattern=\"[a-zA-Zа-яА-Я -]{1,}\"\r\n               value={userName}\r\n               onChange={handleInput}\r\n               />\r\n        <span className=\"popup__error\" id=\"owner-name-error\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input type=\"text\" name=\"userDescription\" id=\"owner-description\"\r\n               className=\"popup__input popup__input_type_description\" placeholder=\"Занятие\"\r\n               required minLength=\"2\" maxLength=\"200\"\r\n               value={userDescription}\r\n               onChange={handleInput}\r\n               />\r\n        <span className=\"popup__error\" id=\"owner-description-error\"></span>\r\n      </label>\r\n      <button type=\"submit\" className=\"button popup__button\">Сохранить</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default EditForm;","/* eslint-disable default-case */\r\nimport React from 'react';\r\n\r\nconst PlaceForm = ({onAddCardSubmit}) => {\r\n    const [inputs, setInputs] = React.useState({name: '', link: ''})\r\n    const onNameInput = (e) => {\r\n        setInputs({...inputs, name: e.target.value})       \r\n    }\r\n    const onUrlInput = (e) => {\r\n        setInputs({...inputs, link: e.target.value}) \r\n     }\r\n     const onSubmit = (e) => {\r\n         e.preventDefault();\r\n         onAddCardSubmit(inputs)\r\n     }\r\n   \r\n    return (\r\n                <form className=\"popup__form\" name=\"new-card\" noValidate>\r\n        <label className=\"popup__label\">\r\n          <input type=\"text\" name=\"name\" id=\"place-name\"\r\n                 className=\"popup__input popup__input_type_card-name\" placeholder=\"Название\"\r\n                 required minLength=\"1\" maxLength=\"30\"\r\n                 onChange={onNameInput}\r\n                 />\r\n          <span className=\"popup__error\" id=\"place-name-error\"></span>\r\n        </label>\r\n        <label className=\"popup__label\">\r\n          <input type=\"url\" name=\"link\" id=\"place-link\"\r\n                 className=\"popup__input popup__input_type_url\" placeholder=\"Ссылка на картинку\"\r\n                 required\r\n                 onChange={onUrlInput}\r\n                 />\r\n          <span className=\"popup__error\" id=\"place-link-error\"></span>\r\n        </label>\r\n        <button type=\"submit\" className=\"button popup__button popup__button_disabled\"\r\n        onClick={onSubmit}\r\n        >Сохранить</button>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PlaceForm;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\nimport ImagePopup from '../ImagePopup/ImagePopup';\r\nimport Card from '../Card/Card';\r\nimport api from '../../utils/api';\r\nimport EditForm from '../EditForm/EditForm';\r\nimport PlaceForm from '../PlaceForm/PlaceForm';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\n\r\n\r\nconst Main = ({onEditProfile, onAddPlace, onEditAvatar, openedPopup, onClose, selectedCard, handleBasketIconClick}) => {\r\n  \r\n  \r\n  const [userInfo, setUserInfo] = React.useState({    \r\n    userName: '', \r\n    userDescription: '',\r\n    userAvatar: '',\r\n    userId: ''        \r\n  });\r\n  const {userName, userDescription, userAvatar, userId} = userInfo;\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n  React.useEffect(()=>{\r\n    Promise.all([api.getUserInfo(), api.getCardList()])\r\n    .then(res =>{        \r\n      const [{name, about, avatar, _id}, cardsData] = res;  \r\n      console.log(cardsData); \r\n      setUserInfo({\r\n        userName: name, \r\n        userDescription: about,\r\n        userAvatar: avatar,\r\n        userId: _id         \r\n      });\r\n      setCards(cardsData);\r\n     \r\n    })\r\n    .catch(err =>{\r\n      console.log(err)\r\n    })\r\n  }, []) \r\n  \r\n  const onDeleteCardSubmit = (e)=>{\r\n    e.preventDefault();\r\n    api.removeCard(selectedCard._id)\r\n    .then((res)=>{           \r\n      const ind = cards.findIndex(el=>el._id === selectedCard._id);\r\n      setCards([...cards.slice(0, ind), ...cards.slice(ind+1)]);\r\n      onClose(); \r\n    }\r\n    )\r\n    .catch(err=>{console.log(err);})\r\n  }\r\n  const onLikeButton = (cardId, isliked) => {\r\n    if(isliked){\r\n      console.log('снимаем');\r\n    } else {\r\n      console.log('ставим');\r\n    }\r\n  }\r\n  \r\n  const onAddCardSubmit = ({name, link}) => {\r\n    api.addCard({name, link})\r\n    .then(card=>{\r\n      setCards([...cards, card]);\r\n      onClose();\r\n    })    \r\n    \r\n  }\r\n  \r\n  const cardsElems = cards.map((card)=>{  \r\n    const isLiked = card.likes.some(({_id})=>userId===_id);\r\n    return <Card \r\n    cardInfo={card}\r\n    onBasketClick={(e)=>{\r\n      e.stopPropagation();\r\n      handleBasketIconClick(card)\r\n    }}\r\n    key={card._id}\r\n    onLikeButton={onLikeButton}\r\n    isUsersCard={userId===card.owner._id}\r\n    isInitialLiked={isLiked}\r\n    />\r\n  });\r\n  \r\n  \r\n    return (\r\n      <Router>\r\n      <main className=\"content\">\r\n    <section className=\"profile page__section\">\r\n      <div \r\n      className=\"profile__image\"\r\n      onClick={onEditAvatar}\r\n      style={{backgroundImage: `url(${userAvatar})`}}\r\n      ></div>\r\n      <div className=\"profile__info\">\r\n        <h1 className=\"profile__title\">{userName}</h1>\r\n        <button \r\n        className=\"profile__edit-button\" \r\n        type=\"button\"\r\n        onClick={onEditProfile}\r\n        ></button>\r\n        <p className=\"profile__description\">{userDescription}</p>\r\n      </div>\r\n      <button \r\n      className=\"profile__add-button\" \r\n      type=\"button\"\r\n      onClick={onAddPlace}\r\n      ></button>\r\n    </section>\r\n    <section className=\"places page__section\">\r\n      <ul className=\"places__list\">\r\n        {cardsElems}\r\n      </ul>\r\n    </section>\r\n  </main>\r\n  {openedPopup.isEditProfilePopupOpen && <PopupWithForm\r\n  title='Редактировать профиль'\r\n  name='edit'\r\n  \r\n  onClose={onClose}\r\n  \r\n  >\r\n  {userInfo.userName && <EditForm \r\n  initialUserInfo={userInfo}\r\n  />}\r\n  </PopupWithForm>\r\n}\r\n  {openedPopup.isAddPlacePopupOpen && <PopupWithForm\r\n  title='Новое место'\r\n  name='new-card'\r\n  \r\n  onClose={onClose}\r\n  >\r\n  <PlaceForm onAddCardSubmit={onAddCardSubmit}/>    \r\n  </PopupWithForm>\r\n}\r\n{openedPopup.isDeleteCardPopupOpened && <PopupWithForm\r\n  title='Вы уверены?'\r\n  name='remove-card'\r\n  \r\n  onClose={onClose} \r\n  >\r\n      <form className=\"popup__form\" name=\"remove-card\" noValidate>\r\n        <button type=\"submit\" className=\"button popup__button\"\r\n        onClick={onDeleteCardSubmit}\r\n        >Да</button>\r\n      </form>\r\n  </PopupWithForm>\r\n}\r\n{openedPopup.isEditAvatarPopupOpen && <PopupWithForm\r\n  title='Обновить аватар'\r\n  name='edit-avatar'\r\n  \r\n  onClose={onClose}\r\n  >\r\n      <form className=\"popup__form\" name=\"edit-avatar\" noValidate>\r\n        <label className=\"popup__label\">\r\n          <input type=\"url\" name=\"avatar\" id=\"owner-avatar\"\r\n                 className=\"popup__input popup__input_type_description\" placeholder=\"Ссылка на изображение\"\r\n                 required/>\r\n          <span className=\"popup__error\" id=\"owner-avatar-error\"></span>\r\n        </label>\r\n        <button type=\"submit\" className=\"button popup__button\">Сохранить</button>\r\n      </form>\r\n  </PopupWithForm>\r\n}\r\n  <Route path='/places/:id' render={({match, history})=>{\r\n    const id = match.params.id;\r\n    const currentCard = cards.find(({_id})=>id === _id)\r\n    return (currentCard &&\r\n      <ImagePopup \r\n  card={currentCard}  \r\n  onClose={()=>history.goBack()}\r\n  />  \r\n    )\r\n  }} />\r\n    \r\n  \r\n  </Router>\r\n    );\r\n  \r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nconst Footer = (props) => {  \r\n    return (\r\n      <footer className=\"footer page__section\">\r\n    <p className=\"footer__copyright\">\r\n      © 2020 Mesto Russia\r\n    </p>\r\n  </footer>\r\n    );  \r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport Header from '../Header/Header';\r\nimport Main from '../Main/Main';\r\nimport Footer from '../Footer/Footer';\r\n\r\nconst App = () => {\r\n  const [openedPopup, setOpenedPopup] = React.useState({})\r\n  const [selectedCard, setSelectedCard] = React.useState(false)\r\n  \r\n  const handleEditAvatarClick = () => {\r\n    setOpenedPopup({isEditAvatarPopupOpen: true})         \r\n  }\r\n  const handleEditProfileClick = () => {\r\n    setOpenedPopup({isEditProfilePopupOpen: true})\r\n  }\r\n  const handleAddPlaceClick = () => {\r\n    setOpenedPopup({isAddPlacePopupOpen: true})\r\n  }\r\n  const handleBasketIconClick = (card) => {\r\n    setSelectedCard(card);\r\n    setOpenedPopup({isDeleteCardPopupOpened: true})\r\n  }\r\n  const closeAllPopups = () => {\r\n    setOpenedPopup({});\r\n    setSelectedCard(false)  \r\n    }    \r\n    return (\r\n      <>\r\n        <Header />\r\n        <Main \r\n        onEditProfile={handleEditProfileClick}\r\n        onAddPlace={handleAddPlaceClick}\r\n        onEditAvatar={handleEditAvatarClick}\r\n        onClose={closeAllPopups}\r\n        openedPopup={openedPopup}        \r\n        handleBasketIconClick={handleBasketIconClick}\r\n        selectedCard={selectedCard}\r\n        />\r\n        <Footer />\r\n      </>\r\n    );\r\n  \r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nimport './pages/index.css';\n\nReactDOM.render(<App />, document.querySelector('.page__content'))"],"sourceRoot":""}